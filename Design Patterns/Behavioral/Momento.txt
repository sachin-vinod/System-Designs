#include <bits/stdc++.h>
using namespace std;

//originator
class Editor{
    private:
        string text;
        int cursor;
    public:
        Editor(string text, int cursor){
            this->text=text;
            this->cursor=cursor;
        }
        
        string getText(){
            return this->text;
        }
        
        int getCursor(){
            return this->cursor;
        }
        
        void setText(string text){
            this->text=text;
        }
        
        void setCursor(int cursor){
            this->cursor=cursor;
        }
        
        Editor* clone(){
            return new Editor(*this);
        }
        
        void restore(Editor* editor){
            this->text=editor->text;
            this->cursor=editor->cursor;
        }
};

class Momento{
    private:
        Editor* snapshot;
    public:
        Momento(Editor* snapshot){
            this->snapshot=snapshot;
        }
        
        Editor* getSnapshot(){
            return this->snapshot;
        }
};

class History{
    private:
        stack<Momento*> history;
    public:
        void save(Editor* editor){
            history.push(new Momento(editor->clone()));
        }
        
        void undo(Editor* editor){
            if(history.size()){
                Momento* momento=history.top();
                history.pop();
                editor->restore(momento->getSnapshot());
            }
            else{
                cout<<"NO History to retrive"<<endl;
            }
        }
};

int main() {
    Editor* editor=new Editor("sachin", 1);
    History* history=new History();
    
    history->save(editor);
    editor->setText("suresh");  //we will save only prev one before creating new
    editor->setCursor(2);
    
    cout<<editor->getText()<<" "<<editor->getCursor()<<endl;
    history->undo(editor);
    cout<<editor->getText()<<" "<<editor->getCursor()<<endl;

    
    
    return 0;
}
